<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Register</title>
<style>
  body{font-family:Arial,system-ui;display:flex;align-items:center;justify-content:center;
    min-height:100vh;margin:0;background:linear-gradient(135deg,#1e3c72,#2a5298);color:#fff}
  .card{background:rgba(255,255,255,0.06);padding:20px;border-radius:12px;width:360px;box-shadow:0 6px 18px rgba(0,0,0,0.25)}
  input{width:100%;padding:10px;margin:8px 0;border-radius:8px;border:1px solid rgba(255,255,255,0.12);background:rgba(255,255,255,0.95);color:#111}
  button{width:100%;padding:10px;border-radius:8px;border:0;background:#2196f3;color:white;font-weight:700;cursor:pointer}
  a{color:#cfe8ff;font-size:14px;text-decoration:none}
</style>
</head>
<body>
  <div class="card">
    <h2 style="margin:0 0 10px 0;color:#fff">Register</h2>

    <input id="phone" placeholder="Phone number" />
    <input id="password" type="password" placeholder="Password" />
    <button id="registerBtn">Register</button>

    <div id="msg" style="margin-top:10px;color:#ffdede"></div>
    <p style="margin-top:12px;">Already have an account? <a href="login.html">Login here</a></p>
  </div>

<script>
const SHEETY_URL = "https://api.sheety.co/4a9868f3c5ce48f976e575a769b00f1c/users/users";

document.getElementById("registerBtn").addEventListener("click", async () => {
  const phone = document.getElementById("phone").value.trim();
  const password = document.getElementById("password").value.trim();
  const msg = document.getElementById("msg");

  if (!phone || !password) {
    msg.textContent = "Please enter both phone and password.";
    return;
  }

  msg.textContent = "Registering...";

  try {
    const body = {
      users: { phone: phone, password: password }
    };

    const response = await fetch(SHEETY_URL, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(body)
    });

    const data = await response.json();
    console.log("Registered:", data);

    if (response.ok) {
      msg.style.color = "#b6f7c6";
      msg.textContent = "✅ Registration successful! Redirecting to login...";
      setTimeout(() => (window.location.href = "login.html"), 1000);
    } else {
      msg.textContent = "Error registering: " + JSON.stringify(data);
    }
  } catch (err) {
    console.error(err);
    msg.textContent = "Network error — try again.";
  }
});
</script>
</body>
</html>
